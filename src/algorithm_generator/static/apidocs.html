<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>API Docs | OMEGA Arena</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Crimson+Pro:wght@300;400;600&display=swap" rel="stylesheet">
  <link rel="icon" type="image/x-icon" href="/static/infinity_icon.png">
  <style>
    body { font-family: 'Crimson Pro', serif; background-color: #F8F7F2; }
    .gold-bg { background-color: #D4AF37; }
    .gold-text { color: #D4AF37; }
    .code-block { background: #111111; color: #F3F3F3; font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; }
  </style>
</head>

<body class="text-gray-800 pb-10 md:pb-20">
  <nav class="bg-white/80 backdrop-blur-md border-b border-gray-100 w-full fixed top-0 z-50">
    <div class="max-w-5xl mx-auto px-4 md:px-6 py-4 md:py-6 flex justify-between items-center">
      <a href="/" class="flex items-center">
        <img src="/static/infinity_logo.png" alt="INFINITY" class="h-12 md:h-16 w-auto object-contain transition-transform">
      </a>
      <div class="flex items-center space-x-4 md:space-x-8 text-[10px] md:text-[12px] uppercase tracking-[0.15em] md:tracking-[0.25em] font-bold text-gray-400">
        <a href="/" class="hover:text-black transition-colors hidden sm:block">Home</a>
      </div>
    </div>
  </nav>

  <div class="h-24 md:h-32"></div>

  <main class="max-w-4xl mx-auto px-4 md:px-6">
    <div class="text-center mb-8 md:mb-10">
      <h1 class="text-3xl md:text-5xl mb-3 md:mb-4 font-light text-gray-900 leading-tight">API Docs</h1>
      <p class="text-gray-400 italic text-base md:text-lg text-balance px-4">Core endpoints for synthesis, account lookup, and code retrieval.</p>
    </div>

    <div class="bg-white rounded-2xl shadow-xl p-5 md:p-8 border border-gray-100 mb-6 md:mb-8">
      <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3">
        <div>
          <div class="text-[10px] uppercase tracking-widest text-gray-400 font-sans">Endpoint</div>
          <div class="text-xl md:text-2xl font-light mt-1">/generate</div>
        </div>
        <div class="flex items-center gap-2">
          <span class="gold-bg text-white text-xs font-bold uppercase tracking-widest px-3 py-1 rounded-full">POST</span>
          <span class="text-[10px] uppercase tracking-widest text-gray-400 font-sans">JSON</span>
        </div>
      </div>
      <p class="text-gray-500 mt-4 md:mt-5 text-sm md:text-base">
        Submit a prompt plus creator metadata. The service synthesizes a model, benchmarks it, and stores the result.
      </p>
      <div class="mt-6">
        <div class="text-[10px] uppercase tracking-widest text-gray-400 font-sans mb-2">cURL</div>
        <pre class="code-block rounded-xl p-4 text-xs md:text-sm overflow-x-auto">curl -X POST https://YOUR_DOMAIN/generate \
  -H "Content-Type: application/json" \
  -d '{"description":"Design a hybrid forest with directional splits.","user_id":"user_123","creator_name":"Ada"}'</pre>
        <p class="text-xs md:text-sm text-gray-400 mt-4">
          Replace YOUR_DOMAIN with the deployment host. Requires a valid user_id from your auth layer.
        </p>
      </div>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8">
      <div class="bg-white rounded-2xl shadow-xl p-5 md:p-8 border border-gray-100">
        <div class="text-[10px] uppercase tracking-widest text-gray-400 font-sans">Request Body</div>
        <h2 class="text-2xl md:text-3xl font-light mt-2 mb-4">SynthesisRequest</h2>
        <div class="space-y-3 text-sm md:text-base">
          <div class="flex items-start justify-between gap-4">
            <span class="font-semibold">description</span>
            <span class="text-gray-500">string, required</span>
          </div>
          <div class="flex items-start justify-between gap-4">
            <span class="font-semibold">user_id</span>
            <span class="text-gray-500">string, required</span>
          </div>
          <div class="flex items-start justify-between gap-4">
            <span class="font-semibold">creator_name</span>
            <span class="text-gray-500">string, required</span>
          </div>
        </div>
        <div class="mt-6">
          <div class="text-[10px] uppercase tracking-widest text-gray-400 font-sans mb-2">Example</div>
          <pre class="code-block rounded-xl p-4 text-xs md:text-sm overflow-x-auto">{
  "description": "Design a hybrid forest with directional splits.",
  "user_id": "user_123",
  "creator_name": "Ada"
}</pre>
        </div>
      </div>

      <div class="bg-white rounded-2xl shadow-xl p-5 md:p-8 border border-gray-100">
        <div class="text-[10px] uppercase tracking-widest text-gray-400 font-sans">Response</div>
        <h2 class="text-2xl md:text-3xl font-light mt-2 mb-4">Result Payload</h2>
        <p class="text-sm md:text-base text-gray-500">
          Returns benchmarking results, metadata, and status. When sandboxing is enabled, the job can queue instead.
        </p>
        <div class="mt-6">
          <div class="text-[10px] uppercase tracking-widest text-gray-400 font-sans mb-2">Example</div>
          <pre class="code-block rounded-xl p-4 text-xs md:text-sm overflow-x-auto">{
  "status": "success",
  "class_name": "DirectionalForest",
  "aggregate_acc": 0.82,
  "min_max_score": 0.74,
  "eval_time_seconds": 12.8
}</pre>
        </div>
      </div>
    </div>

    <div class="bg-white rounded-2xl shadow-xl p-5 md:p-8 border border-gray-100 mt-6 md:mt-8">
      <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3">
        <div>
          <div class="text-[10px] uppercase tracking-widest text-gray-400 font-sans">Endpoint</div>
          <div class="text-xl md:text-2xl font-light mt-1">/my_info</div>
        </div>
        <div class="flex items-center gap-2">
          <span class="gold-bg text-white text-xs font-bold uppercase tracking-widest px-3 py-1 rounded-full">GET</span>
          <span class="text-[10px] uppercase tracking-widest text-gray-400 font-sans">JSON</span>
        </div>
      </div>
      <p class="text-gray-500 mt-4 md:mt-5 text-sm md:text-base">
        Returns the current user's id and display name based on the Supabase access token.
      </p>
      <p class="text-xs md:text-sm text-gray-400 mt-3">
        To find your access token in the browser: open DevTools → Application (or Storage) → Local Storage →
        select your site → look for the Supabase session key (often named like <span class="font-mono">sb-...-auth-token</span>)
        and copy the <span class="font-mono">access_token</span>.
      </p>
      <div class="mt-6">
        <div class="text-[10px] uppercase tracking-widest text-gray-400 font-sans mb-2">Example</div>
        <pre class="code-block rounded-xl p-4 text-xs md:text-sm overflow-x-auto">{
  "user_id": "user_123",
  "creator_name": "Ada"
}</pre>
      </div>
      <div class="mt-6">
        <div class="text-[10px] uppercase tracking-widest text-gray-400 font-sans mb-2">cURL</div>
        <pre class="code-block rounded-xl p-4 text-xs md:text-sm overflow-x-auto">curl -H "Authorization: Bearer YOUR_SUPABASE_TOKEN" \
  https://YOUR_DOMAIN/my_info</pre>
        <p class="text-xs md:text-sm text-gray-400 mt-4">
          Use the access token from your Supabase session.
        </p>
      </div>
    </div>

    <div class="bg-white rounded-2xl shadow-xl p-5 md:p-8 border border-gray-100 mt-6 md:mt-8">
      <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3">
        <div>
          <div class="text-[10px] uppercase tracking-widest text-gray-400 font-sans">Endpoint</div>
          <div class="text-xl md:text-2xl font-light mt-1">/algorithm-code/by-class/{class_name}</div>
        </div>
        <div class="flex items-center gap-2">
          <span class="gold-bg text-white text-xs font-bold uppercase tracking-widest px-3 py-1 rounded-full">GET</span>
          <span class="text-[10px] uppercase tracking-widest text-gray-400 font-sans">Text</span>
        </div>
      </div>
      <p class="text-gray-500 mt-4 md:mt-5 text-sm md:text-base">
        Download the generated model code by unique class name.
      </p>
      <div class="mt-6">
        <div class="text-[10px] uppercase tracking-widest text-gray-400 font-sans mb-2">cURL</div>
        <pre class="code-block rounded-xl p-4 text-xs md:text-sm overflow-x-auto">curl -L https://YOUR_DOMAIN/algorithm-code/by-class/DirectionalForest</pre>
        <p class="text-xs md:text-sm text-gray-400 mt-4">
          The response is plain text and returns a download filename when available.
        </p>
      </div>
    </div>
  </main>
</body>
</html>
